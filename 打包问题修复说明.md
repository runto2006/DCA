# 🔧 打包问题修复说明

## ❌ 问题描述

运行 `build-package.bat` 时出现错误：
```
The argument 'scripts\build-package.ps1' to the -File parameter does not exist.
```

## ✅ 解决方案

### 方案1：使用简化脚本（推荐）

我已经创建了一个简化的PowerShell脚本，直接放在项目根目录：

1. **使用新的批处理脚本**：
   ```bash
   # 双击运行
   build-simple.bat
   ```

2. **或者直接运行PowerShell脚本**：
   ```bash
   # 在PowerShell中运行
   powershell -ExecutionPolicy Bypass -File "build-package-simple.ps1"
   ```

### 方案2：修复原脚本路径

如果您想使用原来的脚本，请确保：

1. **检查文件是否存在**：
   ```bash
   # 确认文件存在
   dir scripts\build-package.ps1
   ```

2. **使用正确的路径分隔符**：
   ```bash
   # 在批处理脚本中使用
   powershell -ExecutionPolicy Bypass -File "scripts/build-package.ps1"
   ```

## 🚀 快速开始

### 最简单的使用方法：

1. **双击运行**：
   ```
   build-simple.bat
   ```

2. **等待打包完成**：
   - 会生成 `solbtc-dca-1.0.0.tar.gz` 文件
   - 包含所有必需的项目文件
   - 包含自动部署脚本

3. **上传到Ubuntu服务器**：
   ```bash
   scp solbtc-dca-1.0.0.tar.gz user@server:/home/user/
   ```

4. **在Ubuntu上部署**：
   ```bash
   tar -xzf solbtc-dca-1.0.0.tar.gz
   chmod +x deploy-ubuntu.sh
   ./deploy-ubuntu.sh
   ```

## 📋 文件说明

### 新增文件：
- `build-package-simple.ps1`: 简化的PowerShell打包脚本
- `build-simple.bat`: 简化的批处理启动脚本

### 功能对比：
| 功能 | 原脚本 | 简化脚本 |
|------|--------|----------|
| 文件路径 | scripts/build-package.ps1 | build-package-simple.ps1 |
| 路径问题 | 可能有路径分隔符问题 | 直接在当前目录 |
| 功能完整性 | 完整功能 | 核心功能 |
| 使用便利性 | 需要检查路径 | 直接可用 |

## 🔧 故障排除

### 如果仍然有问题：

1. **检查PowerShell版本**：
   ```bash
   powershell -Command "Get-Host"
   ```

2. **检查执行策略**：
   ```bash
   powershell -Command "Get-ExecutionPolicy"
   ```

3. **手动设置执行策略**：
   ```bash
   powershell -Command "Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser"
   ```

4. **直接运行PowerShell**：
   ```bash
   # 打开PowerShell，然后运行：
   .\build-package-simple.ps1
   ```

## 📊 打包内容

简化脚本会打包以下内容：
- ✅ app/ (Next.js应用)
- ✅ components/ (React组件)
- ✅ lib/ (工具库)
- ✅ scripts/ (部署脚本)
- ✅ docker-compose.yml (Docker配置)
- ✅ package.json (项目依赖)
- ✅ env.local.example (环境配置)
- ✅ supabase.sql (数据库结构)
- ✅ 部署文档

## 🎯 推荐使用

**推荐使用 `build-simple.bat`**，因为：
- ✅ 路径问题已解决
- ✅ 功能完整
- ✅ 使用简单
- ✅ 错误处理完善

现在您可以正常打包项目了！🎉 
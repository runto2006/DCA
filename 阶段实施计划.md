# SOLBTC-DCAç³»ç»Ÿé˜¶æ®µå®æ–½è®¡åˆ’

## ğŸ“… æ€»ä½“æ—¶é—´è§„åˆ’

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦ç›®æ ‡ | å…³é”®æˆæœ |
|------|------|----------|----------|
| é˜¶æ®µ1 | 1-2å‘¨ | æ€§èƒ½ä¼˜åŒ– | Redisç¼“å­˜ã€APIä¼˜åŒ–ã€é”™è¯¯å¤„ç† |
| é˜¶æ®µ2 | 2-3å‘¨ | ç”¨æˆ·ä½“éªŒ | ç•Œé¢ä¼˜åŒ–ã€æ•°æ®å¯è§†åŒ–ã€ä¸ªæ€§åŒ– |
| é˜¶æ®µ3 | 3-4å‘¨ | å¤šäº¤æ˜“æ‰€ | ç»Ÿä¸€æ¥å£ã€äº¤æ˜“æ‰€é›†æˆã€å¥—åˆ©åŠŸèƒ½ |
| é˜¶æ®µ4 | 4-5å‘¨ | å¤šç”¨æˆ· | ç”¨æˆ·ç³»ç»Ÿã€æ•°æ®éš”ç¦»ã€æƒé™ç®¡ç† |
| æ€»è®¡ | 10-14å‘¨ | ç³»ç»Ÿå‡çº§ | å®Œæ•´çš„å¤šç”¨æˆ·å¤šäº¤æ˜“æ‰€ç³»ç»Ÿ |

---

## ğŸš€ é˜¶æ®µ1: æ€§èƒ½ä¼˜åŒ– (1-2å‘¨)

### ç¬¬1å‘¨: Redisç¼“å­˜é›†æˆ

#### å‘¨ä¸€-å‘¨äºŒ: Redisç¯å¢ƒæ­å»º
```bash
# å®‰è£…Redis
npm install ioredis
npm install @types/ioredis

# ç¯å¢ƒå˜é‡é…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_password
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®‰è£…RedisæœåŠ¡å™¨
- [ ] é…ç½®Redisè¿æ¥
- [ ] åˆ›å»ºRediså·¥å…·ç±»
- [ ] æ·»åŠ Rediså¥åº·æ£€æŸ¥

#### å‘¨ä¸‰-å‘¨å››: ç¼“å­˜å®ç°
```typescript
// lib/cache/redis-cache.ts
export class RedisCache {
  private redis: Redis
  
  async getPrice(symbol: string): Promise<number | null> {
    const key = `price:${symbol}`
    const cached = await this.redis.get(key)
    return cached ? parseFloat(cached) : null
  }
  
  async setPrice(symbol: string, price: number, ttl: number = 30): Promise<void> {
    const key = `price:${symbol}`
    await this.redis.setex(key, ttl, price.toString())
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ä»·æ ¼æ•°æ®ç¼“å­˜ (30ç§’TTL)
- [ ] å®ç°ç­–ç•¥æ•°æ®ç¼“å­˜ (5åˆ†é’ŸTTL)
- [ ] å®ç°å¸ç§åˆ—è¡¨ç¼“å­˜ (1å°æ—¶TTL)
- [ ] æ·»åŠ ç¼“å­˜å¤±æ•ˆç­–ç•¥

#### å‘¨äº”: APIé›†æˆ
**ä»»åŠ¡æ¸…å•:**
- [ ] ä¿®æ”¹ä»·æ ¼APIä½¿ç”¨ç¼“å­˜
- [ ] ä¿®æ”¹ç­–ç•¥APIä½¿ç”¨ç¼“å­˜
- [ ] ä¿®æ”¹å¸ç§APIä½¿ç”¨ç¼“å­˜
- [ ] æµ‹è¯•ç¼“å­˜æ•ˆæœ

### ç¬¬2å‘¨: APIä¼˜åŒ–å’Œé”™è¯¯å¤„ç†

#### å‘¨ä¸€-å‘¨äºŒ: APIå“åº”ä¼˜åŒ–
```typescript
// lib/api/response-handler.ts
export class ApiResponseHandler {
  static success<T>(data: T, message?: string) {
    return {
      success: true,
      data,
      message,
      timestamp: new Date().toISOString()
    }
  }
  
  static error(error: string, code: number = 500) {
    return {
      success: false,
      error,
      code,
      timestamp: new Date().toISOString()
    }
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] ç»Ÿä¸€APIå“åº”æ ¼å¼
- [ ] å®ç°é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- [ ] æ·»åŠ APIé™æµæœºåˆ¶

#### å‘¨ä¸‰-å‘¨å››: æ•°æ®åº“ä¼˜åŒ–
```sql
-- æ·»åŠ æ•°æ®åº“ç´¢å¼•
CREATE INDEX idx_price_data_symbol_timestamp ON price_data(symbol, timestamp);
CREATE INDEX idx_trade_history_symbol_timestamp ON trade_history(symbol, timestamp);
CREATE INDEX idx_positions_symbol_status ON positions(symbol, status);
CREATE INDEX idx_dca_settings_symbol_active ON dca_settings(symbol, is_active);
```

**ä»»åŠ¡æ¸…å•:**
- [ ] æ·»åŠ æ•°æ®åº“ç´¢å¼•
- [ ] ä¼˜åŒ–å¤æ‚æŸ¥è¯¢
- [ ] å®ç°è¿æ¥æ± ä¼˜åŒ–
- [ ] æ·»åŠ æŸ¥è¯¢æ€§èƒ½ç›‘æ§

#### å‘¨äº”: æµ‹è¯•å’ŒéªŒè¯
**ä»»åŠ¡æ¸…å•:**
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å‹åŠ›æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] æ–‡æ¡£æ›´æ–°

---

## ğŸ¨ é˜¶æ®µ2: ç”¨æˆ·ä½“éªŒå¢å¼º (2-3å‘¨)

### ç¬¬3å‘¨: ç•Œé¢äº¤äº’ä¼˜åŒ–

#### å‘¨ä¸€-å‘¨äºŒ: åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
```typescript
// components/ui/PageTransition.tsx
import { motion } from 'framer-motion'

export function PageTransition({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      exit={{ opacity: 0, y: -20 }}
      transition={{ duration: 0.3 }}
    >
      {children}
    </motion.div>
  )
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®‰è£…framer-motion
- [ ] æ·»åŠ é¡µé¢è¿‡æ¸¡æ•ˆæœ
- [ ] å®ç°åŠ è½½åŠ¨ç”»
- [ ] æ·»åŠ äº¤äº’åé¦ˆ

#### å‘¨ä¸‰-å‘¨å››: æ‹–æ‹½å’Œå¿«æ·é”®
```typescript
// hooks/useKeyboardShortcuts.ts
export function useKeyboardShortcuts() {
  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if ((event.ctrlKey || event.metaKey) && event.key === 's') {
        event.preventDefault()
        // ä¿å­˜è®¾ç½®
      }
    }
    
    document.addEventListener('keydown', handleKeyDown)
    return () => document.removeEventListener('keydown', handleKeyDown)
  }, [])
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°æ‹–æ‹½æ’åºåŠŸèƒ½
- [ ] æ·»åŠ å¿«æ·é”®æ”¯æŒ
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
- [ ] æ·»åŠ è§¦æ‘¸æ‰‹åŠ¿

#### å‘¨äº”: å“åº”å¼ä¼˜åŒ–
**ä»»åŠ¡æ¸…å•:**
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯å¸ƒå±€
- [ ] æ·»åŠ å¹³æ¿ç«¯æ”¯æŒ
- [ ] å®ç°è‡ªé€‚åº”è®¾è®¡
- [ ] æµ‹è¯•å¤šè®¾å¤‡å…¼å®¹æ€§

### ç¬¬4å‘¨: æ•°æ®å¯è§†åŒ–å¢å¼º

#### å‘¨ä¸€-å‘¨äºŒ: ä»·æ ¼èµ°åŠ¿å›¾
```typescript
// components/PriceChart.tsx
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts'

export function PriceChart({ data }: { data: any[] }) {
  return (
    <LineChart width={600} height={300} data={data}>
      <CartesianGrid strokeDasharray="3 3" />
      <XAxis dataKey="time" />
      <YAxis />
      <Tooltip />
      <Line type="monotone" dataKey="price" stroke="#8884d8" />
    </LineChart>
  )
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®‰è£…recharts
- [ ] æ·»åŠ å®æ—¶ä»·æ ¼èµ°åŠ¿å›¾
- [ ] å®ç°å¤šæ—¶é—´å‘¨æœŸåˆ‡æ¢
- [ ] æ·»åŠ æŠ€æœ¯æŒ‡æ ‡å¯è§†åŒ–

#### å‘¨ä¸‰-å‘¨å››: æ”¶ç›Šæ›²çº¿å’ŒæŒ‡æ ‡
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°æ”¶ç›Šæ›²çº¿å›¾è¡¨
- [ ] æ·»åŠ æŠ€æœ¯æŒ‡æ ‡å¯è§†åŒ–
- [ ] å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] æ·»åŠ å›¾è¡¨äº¤äº’åŠŸèƒ½

#### å‘¨äº”: ä¸ªæ€§åŒ–åŠŸèƒ½
```typescript
// hooks/useFavoriteCurrencies.ts
export function useFavoriteCurrencies() {
  const [favorites, setFavorites] = useState<string[]>([])
  
  const addFavorite = (symbol: string) => {
    setFavorites(prev => [...prev, symbol])
    localStorage.setItem('favorites', JSON.stringify([...favorites, symbol]))
  }
  
  return { favorites, addFavorite }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] ç”¨æˆ·è‡ªå®šä¹‰å¸ç§æ”¶è—
- [ ] ä¸ªæ€§åŒ–ä»ªè¡¨æ¿
- [ ] è‡ªå®šä¹‰ç­–ç•¥æ¨¡æ¿
- [ ] ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½

### ç¬¬5å‘¨: æµ‹è¯•å’Œä¼˜åŒ–

#### å‘¨ä¸€-å‘¨äº”: å…¨é¢æµ‹è¯•
**ä»»åŠ¡æ¸…å•:**
- [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å…¼å®¹æ€§æµ‹è¯•
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†

---

## ğŸ’° é˜¶æ®µ3: å¤šäº¤æ˜“æ‰€æ”¯æŒ (3-4å‘¨)

### ç¬¬6å‘¨: ç»Ÿä¸€æ¥å£è®¾è®¡

#### å‘¨ä¸€-å‘¨äºŒ: æ¥å£è®¾è®¡
```typescript
// lib/exchanges/base.ts
export interface ExchangeInterface {
  name: string
  getPrice(symbol: string): Promise<number>
  placeOrder(order: OrderRequest): Promise<OrderResult>
  getBalance(symbol: string): Promise<Balance>
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] è®¾è®¡ç»Ÿä¸€äº¤æ˜“æ¥å£
- [ ] å®ç°åŸºç¡€é€‚é…å™¨ç±»
- [ ] æ·»åŠ é”™è¯¯å¤„ç†æœºåˆ¶
- [ ] åˆ›å»ºæ¥å£æ–‡æ¡£

#### å‘¨ä¸‰-å‘¨å››: Binanceé€‚é…å™¨ä¼˜åŒ–
**ä»»åŠ¡æ¸…å•:**
- [ ] å®Œå–„ç°æœ‰Binanceé›†æˆ
- [ ] ç»Ÿä¸€APIå“åº”æ ¼å¼
- [ ] æ·»åŠ é‡è¯•æœºåˆ¶
- [ ] ä¼˜åŒ–é”™è¯¯å¤„ç†

#### å‘¨äº”: ä»·æ ¼èšåˆå™¨
```typescript
// lib/price-aggregator.ts
export class PriceAggregator {
  async getBestPrice(symbol: string, side: 'BUY' | 'SELL'): Promise<BestPrice> {
    const prices = await this.getAllPrices(symbol)
    return this.calculateBestPrice(prices, side)
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°å¤šäº¤æ˜“æ‰€ä»·æ ¼è·å–
- [ ] æ·»åŠ ç¼“å­˜æœºåˆ¶
- [ ] å®ç°æœ€ä¼˜ä»·æ ¼è®¡ç®—
- [ ] æ·»åŠ ä»·æ ¼å·®å¼‚ç›‘æ§

### ç¬¬7å‘¨: OKXå’ŒBybité›†æˆ

#### å‘¨ä¸€-å‘¨äºŒ: OKXäº¤æ˜“æ‰€
```typescript
// lib/exchanges/okx-adapter.ts
export class OKXAdapter implements ExchangeInterface {
  name = 'OKX'
  
  async getPrice(symbol: string): Promise<number> {
    const response = await this.client.get('/api/v5/market/ticker', {
      params: { instId: symbol }
    })
    return parseFloat(response.data.data[0].last)
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°OKX APIé€‚é…å™¨
- [ ] å¤„ç†OKXç‰¹æœ‰çš„APIè¦æ±‚
- [ ] æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- [ ] é›†æˆåˆ°ä»·æ ¼èšåˆå™¨

#### å‘¨ä¸‰-å‘¨å››: Bybitäº¤æ˜“æ‰€
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°Bybit APIé€‚é…å™¨
- [ ] å¤„ç†Bybitçš„APIé™åˆ¶
- [ ] æ·»åŠ é”™è¯¯å¤„ç†
- [ ] é›†æˆåˆ°ä»·æ ¼èšåˆå™¨

#### å‘¨äº”: Gate.ioäº¤æ˜“æ‰€
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°Gate.io APIé€‚é…å™¨
- [ ] å¤„ç†å°å¸ç§çš„ç‰¹æ®Šæƒ…å†µ
- [ ] æ·»åŠ æµåŠ¨æ€§æ£€æŸ¥
- [ ] é›†æˆåˆ°ä»·æ ¼èšåˆå™¨

### ç¬¬8å‘¨: å¥—åˆ©åŠŸèƒ½å®ç°

#### å‘¨ä¸€-å‘¨äºŒ: å¥—åˆ©æœºä¼šæ£€æµ‹
```typescript
// lib/arbitrage/opportunity-detector.ts
export class ArbitrageOpportunityDetector {
  async detectOpportunities(symbols: string[]): Promise<ArbitrageOpportunity[]> {
    const opportunities: ArbitrageOpportunity[] = []
    
    for (const symbol of symbols) {
      const buyPrice = await this.priceAggregator.getBestPrice(symbol, 'BUY')
      const sellPrice = await this.priceAggregator.getBestPrice(symbol, 'SELL')
      
      if (buyPrice.exchange !== sellPrice.exchange) {
        const spread = ((sellPrice.price - buyPrice.price) / buyPrice.price) * 100
        if (spread >= this.minSpread) {
          opportunities.push(this.calculateOpportunity(symbol, buyPrice, sellPrice))
        }
      }
    }
    
    return opportunities
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ä»·æ ¼å·®å¼‚ç›‘æ§
- [ ] æ·»åŠ å¥—åˆ©æœºä¼šè¯†åˆ«
- [ ] å®ç°é£é™©è¯„ä¼°
- [ ] æ·»åŠ æœºä¼šæ’åº

#### å‘¨ä¸‰-å‘¨å››: å¥—åˆ©æ‰§è¡Œ
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°è‡ªåŠ¨å¥—åˆ©æ‰§è¡Œ
- [ ] æ·»åŠ è®¢å•ç®¡ç†
- [ ] å®ç°åˆ©æ¶¦è®¡ç®—
- [ ] æ·»åŠ é£é™©æ§åˆ¶

#### å‘¨äº”: ç›‘æ§å’Œå‘Šè­¦
**ä»»åŠ¡æ¸…å•:**
- [ ] æ·»åŠ å¥—åˆ©ç›‘æ§é¢æ¿
- [ ] å®ç°å‘Šè­¦æœºåˆ¶
- [ ] æ·»åŠ æ‰§è¡ŒæŠ¥å‘Š
- [ ] æµ‹è¯•å¥—åˆ©åŠŸèƒ½

### ç¬¬9å‘¨: æµ‹è¯•å’Œä¼˜åŒ–

#### å‘¨ä¸€-å‘¨äº”: å…¨é¢æµ‹è¯•
**ä»»åŠ¡æ¸…å•:**
- [ ] å¤šäº¤æ˜“æ‰€é›†æˆæµ‹è¯•
- [ ] å¥—åˆ©åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] é£é™©æ§åˆ¶æµ‹è¯•

---

## ğŸ‘¥ é˜¶æ®µ4: å¤šç”¨æˆ·æ”¯æŒ (4-5å‘¨)

### ç¬¬10å‘¨: ç”¨æˆ·ç³»ç»ŸåŸºç¡€

#### å‘¨ä¸€-å‘¨äºŒ: ç”¨æˆ·è®¤è¯
```typescript
// lib/auth/auth-service.ts
export class AuthService {
  async register(userData: RegisterRequest): Promise<AuthResult> {
    await this.validateRegistration(userData)
    const user = await this.createUser(userData)
    const tokens = await this.generateTokens(user)
    return { user: this.sanitizeUser(user), ...tokens }
  }
  
  async login(credentials: LoginRequest): Promise<AuthResult> {
    const user = await this.findUserByEmail(credentials.email)
    if (!user || !await this.verifyPassword(credentials.password, user.passwordHash)) {
      throw new Error('ç™»å½•å¤±è´¥')
    }
    return { user: this.sanitizeUser(user), ...await this.generateTokens(user) }
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç™»å‡º
- [ ] æ·»åŠ JWTä»¤ç‰Œç®¡ç†
- [ ] å®ç°å¯†ç é‡ç½®åŠŸèƒ½
- [ ] æ·»åŠ é‚®ç®±éªŒè¯

#### å‘¨ä¸‰-å‘¨å››: ç”¨æˆ·ç®¡ç†
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ç”¨æˆ·èµ„æ–™ç®¡ç†
- [ ] æ·»åŠ ç”¨æˆ·è®¾ç½®åŠŸèƒ½
- [ ] å®ç°ç”¨æˆ·çŠ¶æ€ç®¡ç†
- [ ] æ·»åŠ ç”¨æˆ·æœç´¢å’Œç­›é€‰

#### å‘¨äº”: æƒé™ç³»ç»Ÿ
```typescript
// lib/auth/permission-system.ts
export class PermissionSystem {
  hasPermission(userRole: UserRole, permission: string): boolean {
    const allowedRoles = this.permissions[permission]
    return allowedRoles ? allowedRoles.includes(userRole) : false
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°è§’è‰²å’Œæƒé™ç®¡ç†
- [ ] æ·»åŠ æƒé™æ£€æŸ¥ä¸­é—´ä»¶
- [ ] å®ç°ç»†ç²’åº¦æƒé™æ§åˆ¶
- [ ] æ·»åŠ æƒé™å®¡è®¡æ—¥å¿—

### ç¬¬11å‘¨: æ•°æ®éš”ç¦»

#### å‘¨ä¸€-å‘¨äºŒ: æ•°æ®åº“æ”¹é€ 
```sql
-- ä¿®æ”¹ç°æœ‰è¡¨ä»¥æ”¯æŒç”¨æˆ·éš”ç¦»
ALTER TABLE dca_settings ADD COLUMN user_id UUID REFERENCES users(id);
ALTER TABLE positions ADD COLUMN user_id UUID REFERENCES users(id);
ALTER TABLE trade_history ADD COLUMN user_id UUID REFERENCES users(id);
CREATE INDEX idx_dca_settings_user_id ON dca_settings(user_id);
```

**ä»»åŠ¡æ¸…å•:**
- [ ] ä¿®æ”¹ç°æœ‰è¡¨ç»“æ„
- [ ] æ·»åŠ ç”¨æˆ·IDå­—æ®µ
- [ ] åˆ›å»ºæ•°æ®éš”ç¦»ç´¢å¼•
- [ ] å®ç°æ•°æ®è¿ç§»è„šæœ¬

#### å‘¨ä¸‰-å‘¨å››: APIæ”¹é€ 
```typescript
// lib/auth/data-isolation.ts
export class DataIsolation {
  addUserFilter(query: string, params: any[] = []): { query: string; params: any[] } {
    const hasWhere = query.toLowerCase().includes('where')
    const separator = hasWhere ? 'AND' : 'WHERE'
    return {
      query: `${query} ${separator} user_id = $${params.length + 1}`,
      params: [...params, this.currentUser.id]
    }
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] ä¿®æ”¹æ‰€æœ‰APIä»¥æ”¯æŒç”¨æˆ·éš”ç¦»
- [ ] æ·»åŠ ç”¨æˆ·ä¸Šä¸‹æ–‡ä¸­é—´ä»¶
- [ ] å®ç°æ•°æ®æ‰€æœ‰æƒéªŒè¯
- [ ] æ·»åŠ æ•°æ®è®¿é—®æ—¥å¿—

#### å‘¨äº”: å‰ç«¯æ”¹é€ 
**ä»»åŠ¡æ¸…å•:**
- [ ] æ·»åŠ ç”¨æˆ·è®¤è¯UI
- [ ] å®ç°ç”¨æˆ·ç®¡ç†ç•Œé¢
- [ ] æ·»åŠ æƒé™æ§åˆ¶ç»„ä»¶
- [ ] å®ç°ç”¨æˆ·è®¾ç½®é¡µé¢

### ç¬¬12å‘¨: é«˜çº§åŠŸèƒ½

#### å‘¨ä¸€-å‘¨äºŒ: å¤šç§Ÿæˆ·åŠŸèƒ½
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ç§Ÿæˆ·ç®¡ç†
- [ ] æ·»åŠ èµ„æºé…é¢ç®¡ç†
- [ ] å®ç°ç§Ÿæˆ·éš”ç¦»
- [ ] æ·»åŠ ç§Ÿæˆ·ç›‘æ§

#### å‘¨ä¸‰-å‘¨å››: ç”¨æˆ·APIç®¡ç†
```typescript
// lib/auth/api-key-manager.ts
export class ApiKeyManager {
  async createApiKey(userId: string, exchange: string): Promise<ApiKey> {
    const apiKey = this.generateApiKey()
    const secretKey = this.generateSecretKey()
    
    return await this.saveApiKey({
      userId,
      exchange,
      apiKey,
      secretKey,
      permissions: ['READ', 'TRADE']
    })
  }
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°APIå¯†é’¥ç®¡ç†
- [ ] æ·»åŠ APIæƒé™æ§åˆ¶
- [ ] å®ç°APIä½¿ç”¨ç»Ÿè®¡
- [ ] æ·»åŠ APIé™æµ

#### å‘¨äº”: é€šçŸ¥ç³»ç»Ÿ
**ä»»åŠ¡æ¸…å•:**
- [ ] å®ç°ç”¨æˆ·é€šçŸ¥
- [ ] æ·»åŠ é‚®ä»¶é€šçŸ¥
- [ ] å®ç°æ¨é€é€šçŸ¥
- [ ] æ·»åŠ é€šçŸ¥åå¥½è®¾ç½®

### ç¬¬13-14å‘¨: æµ‹è¯•å’Œä¼˜åŒ–

#### ç¬¬13å‘¨: åŠŸèƒ½æµ‹è¯•
**ä»»åŠ¡æ¸…å•:**
- [ ] ç”¨æˆ·ç³»ç»Ÿæµ‹è¯•
- [ ] æ•°æ®éš”ç¦»æµ‹è¯•
- [ ] æƒé™æ§åˆ¶æµ‹è¯•
- [ ] å¤šç§Ÿæˆ·æµ‹è¯•

#### ç¬¬14å‘¨: æ€§èƒ½å’Œå®‰å…¨æµ‹è¯•
**ä»»åŠ¡æ¸…å•:**
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º
- [ ] å‹åŠ›æµ‹è¯•
- [ ] å®‰å…¨å®¡è®¡

---

## ğŸ“Š é‡Œç¨‹ç¢‘å’Œæ£€æŸ¥ç‚¹

### é˜¶æ®µ1å®Œæˆæ£€æŸ¥ç‚¹
- [ ] Redisç¼“å­˜æ­£å¸¸å·¥ä½œ
- [ ] APIå“åº”æ—¶é—´ < 500ms
- [ ] é”™è¯¯å¤„ç†è¦†ç›–ç‡ > 95%
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–å®Œæˆ

### é˜¶æ®µ2å®Œæˆæ£€æŸ¥ç‚¹
- [ ] ç”¨æˆ·ç•Œé¢å“åº”æµç•…
- [ ] æ•°æ®å¯è§†åŒ–åŠŸèƒ½å®Œæ•´
- [ ] ä¸ªæ€§åŒ–åŠŸèƒ½å¯ç”¨
- [ ] ç§»åŠ¨ç«¯ä½“éªŒè‰¯å¥½

### é˜¶æ®µ3å®Œæˆæ£€æŸ¥ç‚¹
- [ ] å¤šäº¤æ˜“æ‰€ä»·æ ¼èšåˆæ­£å¸¸
- [ ] å¥—åˆ©åŠŸèƒ½å¯æ‰§è¡Œ
- [ ] é£é™©æ§åˆ¶æœºåˆ¶å®Œå–„
- [ ] ç›‘æ§å‘Šè­¦ç³»ç»Ÿæ­£å¸¸

### é˜¶æ®µ4å®Œæˆæ£€æŸ¥ç‚¹
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•æ­£å¸¸
- [ ] æ•°æ®éš”ç¦»å®Œå…¨ç”Ÿæ•ˆ
- [ ] æƒé™æ§åˆ¶ç²¾ç¡®
- [ ] å¤šç§Ÿæˆ·åŠŸèƒ½ç¨³å®š

---

## ğŸš¨ é£é™©æ§åˆ¶

### æŠ€æœ¯é£é™©
- **æ•°æ®è¿ç§»é£é™©**: åˆ†é˜¶æ®µè¿ç§»ï¼Œä¿ç•™å›æ»šæ–¹æ¡ˆ
- **æ€§èƒ½é£é™©**: æŒç»­ç›‘æ§ï¼ŒåŠæ—¶ä¼˜åŒ–
- **å®‰å…¨é£é™©**: å®šæœŸå®‰å…¨å®¡è®¡ï¼ŒåŠæ—¶ä¿®å¤æ¼æ´

### ä¸šåŠ¡é£é™©
- **ç”¨æˆ·ä½“éªŒé£é™©**: å……åˆ†æµ‹è¯•ï¼Œæ”¶é›†åé¦ˆ
- **åŠŸèƒ½å¤æ‚åº¦é£é™©**: åˆ†é˜¶æ®µå‘å¸ƒï¼Œé€æ­¥å®Œå–„
- **å…¼å®¹æ€§é£é™©**: å¤šç¯å¢ƒæµ‹è¯•ï¼Œç¡®ä¿å…¼å®¹

### ç¼“è§£æªæ–½
- **å¤‡ä»½ç­–ç•¥**: å®šæœŸå¤‡ä»½ï¼Œå¤šä»½å­˜å‚¨
- **ç›‘æ§å‘Šè­¦**: å®æ—¶ç›‘æ§ï¼ŒåŠæ—¶å‘Šè­¦
- **æµ‹è¯•ç­–ç•¥**: å…¨é¢æµ‹è¯•ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•
- **æ–‡æ¡£å®Œå–„**: åŠæ—¶æ›´æ–°æ–‡æ¡£ï¼Œä¾¿äºç»´æŠ¤

---

## ğŸ“ æ€»ç»“

é€šè¿‡è¿™ä¸ªåˆ†é˜¶æ®µçš„å®æ–½è®¡åˆ’ï¼Œæˆ‘ä»¬å°†åœ¨10-14å‘¨å†…å®ŒæˆSOLBTC-DCAç³»ç»Ÿçš„å…¨é¢å‡çº§ï¼š

1. **é˜¶æ®µ1** (1-2å‘¨): æ€§èƒ½ä¼˜åŒ–ï¼Œä¸ºåç»­åŠŸèƒ½å¥ å®šåŸºç¡€
2. **é˜¶æ®µ2** (2-3å‘¨): ç”¨æˆ·ä½“éªŒå¢å¼ºï¼Œæå‡ç”¨æˆ·æ»¡æ„åº¦
3. **é˜¶æ®µ3** (3-4å‘¨): å¤šäº¤æ˜“æ‰€æ”¯æŒï¼Œæ‰©å±•äº¤æ˜“æœºä¼š
4. **é˜¶æ®µ4** (4-5å‘¨): å¤šç”¨æˆ·æ”¯æŒï¼Œå®ç°å•†ä¸šåŒ–

æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡ã€å…·ä½“çš„ä»»åŠ¡å’Œå¯éªŒè¯çš„æˆæœï¼Œç¡®ä¿é¡¹ç›®æŒ‰è®¡åˆ’æ¨è¿›å¹¶è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚ 